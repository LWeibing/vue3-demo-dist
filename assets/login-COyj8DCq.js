/* empty css             *//* empty css                 *//* empty css                  */import{d as b,m as h,r as f,a as k,c as x,b as s,e as o,w as l,u as E,E as I,o as S,f as B,g as u,p as R,h as q,i as _,j as C,k as N,l as U,_ as $}from"./index-seHatmtm.js";import{h as F}from"./request-Bxt5PzGv.js";import{g as K}from"./function-CyaMot41.js";import"./user-4NOxBMUU.js";const T=async a=>await F.request("post","/login",a),g=a=>(R("data-v-f85faff8"),a=a(),q(),a),j={class:"main"},M={class:"content"},z=g(()=>s("div",{class:"tip"},[s("p",null,[s("span",null,"管理员："),u("admin 123456")]),s("p",null,[s("span",null,"会员："),u("vip 12345")]),s("p",null,[s("span",null,"用户："),u("user 1234")])],-1)),A=g(()=>s("h2",{class:"title"},"登录",-1)),D={class:"form"},G=b({__name:"login",setup(a){const d=h(),w=E(),n=f({username:"",password:""}),v=f({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:2,max:10,message:"密码长度在2-10个字符",trigger:"blur"}]}),m=k(),c=p=>{p&&p.validate(async e=>{e&&await T(n).then(t=>{t.code===200?(_({message:t.message,type:"success"}),d.setUser(t.data),d.setToken(t.data.token),K(),w.push("/index")):_({message:t.message,type:"error"})})})};return(p,e)=>{const t=C,i=N,y=U,V=I;return S(),x("main",j,[s("article",M,[z,A,s("div",D,[o(V,{model:n,rules:v,ref_key:"fromRef",ref:m},{default:l(()=>[o(i,{label:"账号",prop:"username"},{default:l(()=>[o(t,{modelValue:n.username,"onUpdate:modelValue":e[0]||(e[0]=r=>n.username=r)},null,8,["modelValue"])]),_:1}),o(i,{label:"密码",prop:"password"},{default:l(()=>[o(t,{modelValue:n.password,"onUpdate:modelValue":e[1]||(e[1]=r=>n.password=r),type:"password",autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(i,null,{default:l(()=>[o(y,{type:"primary",onKeydown:e[2]||(e[2]=B(r=>c(m.value),["enter"])),onClick:e[3]||(e[3]=r=>c(m.value))},{default:l(()=>[u("登录")]),_:1})]),_:1})]),_:1},8,["model","rules"])])])])}}}),X=$(G,[["__scopeId","data-v-f85faff8"]]);export{X as default};
