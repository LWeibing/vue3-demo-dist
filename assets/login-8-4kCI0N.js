import{h as b}from"./request-CcA2miBI.js";/* empty css                 */import"./student-8w4GmALF.js";import{d as h,m as k,r as f,a as x,c as E,b as s,e as o,w as l,u as I,E as S,o as B,f as R,g as u,p as q,h as C,i as _,j as N,k as U,l as $,_ as F}from"./index-Cw7H2qAt.js";import{g as K}from"./function-BXF5Xb__.js";import"./user-Bdr1EsFM.js";const T=async a=>await b.request("post","/login",a),g=a=>(q("data-v-f85faff8"),a=a(),C(),a),j={class:"main"},M={class:"content"},z=g(()=>s("div",{class:"tip"},[s("p",null,[s("span",null,"管理员："),u("admin 123456")]),s("p",null,[s("span",null,"会员："),u("vip 12345")]),s("p",null,[s("span",null,"用户："),u("user 1234")])],-1)),A=g(()=>s("h2",{class:"title"},"登录",-1)),D={class:"form"},G=h({__name:"login",setup(a){const d=k(),w=I(),n=f({username:"",password:""}),v=f({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:2,max:10,message:"密码长度在2-10个字符",trigger:"blur"}]}),m=x(),c=p=>{p&&p.validate(async e=>{e&&await T(n).then(t=>{t.code===200?(_({message:t.message,type:"success"}),d.setUser(t.data),d.setToken(t.data.token),K(),w.push("/index")):_({message:t.message,type:"error"})})})};return(p,e)=>{const t=N,i=U,y=$,V=S;return B(),E("main",j,[s("article",M,[z,A,s("div",D,[o(V,{model:n,rules:v,ref_key:"fromRef",ref:m},{default:l(()=>[o(i,{label:"账号",prop:"username"},{default:l(()=>[o(t,{modelValue:n.username,"onUpdate:modelValue":e[0]||(e[0]=r=>n.username=r)},null,8,["modelValue"])]),_:1}),o(i,{label:"密码",prop:"password"},{default:l(()=>[o(t,{modelValue:n.password,"onUpdate:modelValue":e[1]||(e[1]=r=>n.password=r),type:"password",autocomplete:"off"},null,8,["modelValue"])]),_:1}),o(i,null,{default:l(()=>[o(y,{type:"primary",onKeydown:e[2]||(e[2]=R(r=>c(m.value),["enter"])),onClick:e[3]||(e[3]=r=>c(m.value))},{default:l(()=>[u("登录")]),_:1})]),_:1})]),_:1},8,["model","rules"])])])])}}}),W=F(G,[["__scopeId","data-v-f85faff8"]]);export{W as default};
